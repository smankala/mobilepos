{"ts":1375581724109,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\n * New node file\n */\n \n var dbutil = require('./db/dbutil');\n \n var neworderkey= \"neworder\";\n var menukey = \"menuitems\";\n var menuitemkey = \"items\";\n var completeorderdetailskey = \"completeorderdetails\"\n  \n function Item(itemname,itemdesc,itemprice,itemimage ){\n \t\t this.itemname = itemname;\n \t\t this.itemdesc = itemdesc;\n \t\t this.itemprice = itemprice;\n \t\t this.itemimage = itemimage;\n }\n \n function showorder(res,query,postdata){\n \tvar dbquery = {};\n\t dbutil.showorder(res,dbquery);\n }\n \n function getmenu(res,query,postdata){\n \tvar dbquery = {};\n \tdbutil.getmenu(res,dbquery);\n }\n \nfunction neworder(res,query,postdata){\n\tres.writeHead(200, {'Content-Type': 'text/plain'});\n\tvar completeorderinfo = JSON.parse(postdata);\n\tvar orderdetails = completeorderinfo[completeorderdetailskey];\n\tif(orderdetails != undefined || orderdetails != null ) \n\t{\n\t\tdbutil.insertorder(orderdetails);\n\t\tconsole.log(orderdetails);\n\t}\n\telse\n\t{\n\t\t\tconsole.log(\"New Order: Received invalid json\"+JSON.stringify(completeorderinfo));\n\t}\n\tres.end(\"Invalid data\");\n}\n\nfunction insertmenuitem(res,query,postdata){\n \tres.writeHead(200, {'Content-Type': 'text/plain'});\n \tvar menuitem = JSON.parse(postdata);\n\tvar items = menuitem.items;\n\tvar i=0;\n\tfor(i=0;i<items.length;i++ ){\n\t\tdbutil.insertmenu(items[i] );\n\t}\n\tres.end();\n}\n \n exports.showorder = showorder;\n exports.neworder = neworder;\n exports.getmenu = getmenu;\n exports.insertmenuitem = insertmenuitem;"]],"start1":0,"start2":0,"length1":0,"length2":1437}]],"length":1437}
{"contributors":[],"silentsave":false,"ts":1376269184920,"patch":[[{"diffs":[[0,"items[i]"],[1,",res"],[0," );\n\t}\n\t"]],"start1":1275,"start2":1275,"length1":16,"length2":20}]],"length":1441,"saved":false}
